#!/bin/zsh

wallpaper=~/Documents/wallpapers/snow_foliage.jpg
toggle_dual_display="xrandr --output HDMI1 --mode 1920x1200 --left-of VGA1 --output VGA1 --mode 1920x1200 --output LVDS1 --off"
toggle_laptop_display="xrandr --output LVDS1 --mode 1600x900 --output HDMI1 --off --output VGA1 --off"

feh --bg-scale $wallpaper

available_displays=$(xrandr -q | grep "\bconnected" -c)
if [ $available_displays -eq 1 ]
then
  exit
fi

active_displays=$(xrandr -q | grep "*" -B 1 -c)
if [ $active_displays -eq 1 ]
then
  eval ${toggle_dual_display}
else
  eval ${toggle_laptop_display}
fi

feh --bg-scale $wallpaper
